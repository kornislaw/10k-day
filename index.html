<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="utf-8">
    <style>
        input[type=number] { text-align:right }
        table, td {
            border: 1px solid black;
        }
        td {
            padding: 5px;
        }
    </style>
    <script>
        function get_int(id) {
            if (document.getElementById(id).value === undefined) {
                return parseInt(document.getElementById(id).innerHTML)
            } else {
                return parseInt(document.getElementById(id).value);
            }
        }

        function refresh_total() {
            let num_of_exs = 8;
            let bonus_id_name = 0;
            let count_id_name = 0;
            let total_count = 0;

            for (let i=1; i<=num_of_exs; i++) {
                bonus_id_name = 'ex_0'+i+'_bonus';
                count_id_name = 'ex_0'+i+'_count';
                total_count += get_int(bonus_id_name) * get_int(count_id_name); 
            }
            document.getElementById('total_points').innerHTML = total_count;
        }

        function bump(id) {
            document.getElementById(id).value = parseInt(document.getElementById(id).value) + 1;
            refresh_total();
        }

        function today() {
            var today = new Date();
            var dd = String(today.getDate()).padStart(2, '0');
            var mm = String(today.getMonth() + 1).padStart(2, '0'); //January is 0!
            var yyyy = today.getFullYear();

            today = yyyy + '-' + mm + '-' + dd;
            
            return today;
        }

        window.onbeforeunload = function(event) {
            return confirm("Confirm refresh");
        };
    </script>
</head>

<body>
    <h1 id="date_header"><script>document.write(today())</script></h1>


    <table>
        <tr>
            <td>kroki (1000)</td>
            <td id="ex_01_bonus">1000</td> 
            <td>
                <input type="number" value="0" class="ex_count" id="ex_01_count" size="6" maxlength="5" onchange="refresh_total()">
            </td>
            <td>
                <button onclick="bump('ex_01_count')">bump!</button>
            </td>
        </tr>
        <tr> 
            <td>kółko AB</td> <td id="ex_02_bonus">50</td> 
            <td><input type="number" value="0" class="ex_count" id="ex_02_count" maxlength="5" onchange="refresh_total()"></td> 
            <td><button onclick="bump('ex_02_count')">bump!</button></td> 
        </tr>
        <tr> 
            <td>drążek</td> <td id="ex_03_bonus">80</td> 
            <td><input type="number" value="0" class="ex_count" id="ex_03_count" maxlength="5" onchange="refresh_total()"></td> 
            <td><button onclick="bump('ex_03_count')">bump!</button></td> 
        </tr>
        <tr> 
            <td>drążek z taśmą</td> <td id="ex_04_bonus">50</td> 
            <td><input type="number" value="0" class="ex_count" id="ex_04_count" maxlength="5" onchange="refresh_total()"></td> 
            <td><button onclick="bump('ex_04_count')">bump!</button></td> 
        </tr>
        <tr> 
            <td>10 przysiadów</td> <td id="ex_05_bonus">150</td> 
            <td><input type="number" value="0" class="ex_count" id="ex_05_count" maxlength="5" onchange="refresh_total()"></td> 
            <td><button onclick="bump('ex_05_count')">bump!</button></td> 
        </tr>
        <tr> 
            <td>30 przysiadów</td> <td id="ex_06_bonus">500</td> 
            <td><input type="number" value="0" class="ex_count" id="ex_06_count" maxlength="5" onchange="refresh_total()"></td> 
            <td><button onclick="bump('ex_06_count')">bump!</button></td> 
        </tr>
        <tr> 
            <td>bieganie</td> <td id="ex_07_bonus">1000</td> 
            <td><input type="number" value="0" class="ex_count" id="ex_07_count" maxlength="5" onchange="refresh_total()"></td> 
            <td><button onclick="bump('ex_07_count')">bump!</button></td> 
        </tr>
        <tr> 
            <td>workout z appki</td> <td id="ex_08_bonus">5000</td> 
            <td><input type="number" value="0" class="ex_count" id="ex_08_count" maxlength="5" onchange="refresh_total()"></td> 
            <td><button onclick="bump('ex_08_count')">bump!</button></td> 
        </tr>
    </table>
    <h2> Razem: <span id="total_points">0</span> </h2>


</body>
</html>